
var stageWidth=780,stageHeight=635,stage=new Konva.Stage({container:"container",width:stageWidth,height:stageHeight}),layer=new Konva.Layer;stage.add(layer);var canvas=document.createElement("canvas");canvas.width=stage.width(),canvas.height=stage.height();var image=new Konva.Image({image:canvas,x:0,y:0});layer.add(image),stage.draw();var context=canvas.getContext("2d");context.strokeStyle="#F1880B",context.lineJoin="round",context.lineWidth=5;var lastPointerPosition,isPaint=!1,mode="brush";image.on("mousedown touchstart",(function(){isPaint=!0,lastPointerPosition=stage.getPointerPosition()})),stage.on("mouseup touchend",(function(){isPaint=!1})),stage.on("mousemove touchmove",(function(){if(isPaint){"brush"===mode&&(context.globalCompositeOperation="source-over"),"eraser"===mode&&(context.globalCompositeOperation="destination-out"),context.beginPath();var t={x:lastPointerPosition.x-image.x(),y:lastPointerPosition.y-image.y()};context.moveTo(t.x,t.y);var e=stage.getPointerPosition();t={x:e.x-image.x(),y:e.y-image.y()},context.lineTo(t.x,t.y),context.closePath(),context.stroke(),lastPointerPosition=e,layer.batchDraw()}}));var select=document.getElementById("tool");select.addEventListener("change",(function(){mode=select.value}));

gsap.registerPlugin(ScrollTrigger);var leftHomeTimeline=gsap.timeline();leftHomeTimeline.from("#home-part-1",{duration:1,xPercent:-5}),ScrollTrigger.create({trigger:"#introduction",start:"top 90%",end:"bottom 90%",animation:leftHomeTimeline,toggleActions:"resume none none none",scrub:1});var rightHomeTimeline=gsap.timeline();rightHomeTimeline.from("#home-part-2",{duration:1,xPercent:5}),ScrollTrigger.create({trigger:"#introduction",start:"top 80%",end:"bottom 80%",animation:rightHomeTimeline,toggleActions:"resume none none none",scrub:1});var leftTwoHomeTimeline=gsap.timeline();leftTwoHomeTimeline.from("#home-part-3",{duration:1,xPercent:-5}),ScrollTrigger.create({trigger:"#introduction",start:"top 50%",end:"bottom 50%",animation:leftTwoHomeTimeline,toggleActions:"resume none none none",scrub:1});var rightTwoHomeTimeline=gsap.timeline();rightTwoHomeTimeline.from("#home-part-4",{duration:1,xPercent:5}),ScrollTrigger.create({trigger:"#introduction",start:"top 40%",end:"bottom 40%",animation:rightTwoHomeTimeline,toggleActions:"resume none none none",scrub:1});var cardPhotoTimeline=gsap.timeline();cardPhotoTimeline.from(".card-photo",{duration:.5,alpha:0,yPercent:-15}),ScrollTrigger.create({trigger:".cards",start:"top 80%",end:"bottom 80%",animation:cardPhotoTimeline,toggleActions:"resume none none none",scrub:1});var cardWordsTimeline=gsap.timeline();cardWordsTimeline.from(".card-words",{duration:.5,alpha:0,yPercent:15}),ScrollTrigger.create({trigger:".cards",start:"top 80%",end:"bottom 80%",animation:cardWordsTimeline,toggleActions:"resume none none none",scrub:1});
